# Progress Report - February 9, 2026

## Badge Size Fix - COMPLETED ✓

### Issue
- Product badges on staging were 60px wide, while live UK site had 50px badges
- This made staging badges appear 20% larger than intended
- User reported: "staging badge size in both collection and single product pages are bigger than live"

### Investigation
1. Measured badge dimensions on both sites:
   - Staging: 60px × 91.33px
   - Live UK: 50px × 76.11px
2. Located CSS rule in `/src/pages/products/[slug].astro` line 668

### Solution
1. **Updated CSS** (`/src/pages/products/[slug].astro:668`):
   ```css
   /* Before */
   .product-badges .badge {
     width: 60px;
     height: auto;
   }

   /* After */
   .product-badges .badge {
     width: 50px;
     height: auto;
   }
   ```

2. **Rebuilt Astro site**:
   - Generated 156 pages successfully
   - New CSS file: `_slug_.DpmbDEMY.css` (replaced `_slug_.BHI_LIeC.css`)

3. **Deployed to Cloudflare Pages**:
   - Deployment URL: https://6c35646a.hercules-uk-staging-e9z.pages.dev
   - Verified product pages working (HTTP 200)
   - Confirmed badge width: 50px

4. **Updated Edge Router**:
   - Redeployed edge router worker to pick up new Astro deployment
   - New Version ID: bc3c6aca-ae29-4628-8428-19695dbae1a1

5. **Purged Cloudflare Cache**:
   - Full cache purge for hercules-merchandise.co.uk zone
   - Verified staging now loads new CSS

### Verification
- ✓ Staging CSS file: `_slug_.DpmbDEMY.css`
- ✓ Badge width: 50px (matches live UK site)
- ✓ Applies to both collection and single product pages
- ✓ Expected rendered dimensions: 50px × 76px

### Files Modified
- `/home/kamindu/hercules-headless-uk/src/pages/products/[slug].astro` (line 668)

### Deployments
- Astro Pages: https://6c35646a.hercules-uk-staging-e9z.pages.dev
- Edge Router: Version bc3c6aca-ae29-4628-8428-19695dbae1a1
- Staging Site: https://staging.hercules-merchandise.co.uk

---

## Contact Form File Upload Button Styling - COMPLETED ✓

### Issue
- File upload buttons in Quick Delivery and Custom Quote contact forms were using default browser styling
- Didn't match the design system (Jost font, border-radius, colors)
- ContactFormPopup had proper custom styling, but other two forms didn't

### Investigation
1. Checked three contact form popups:
   - `ContactFormPopup.tsx` - Had proper custom styled file upload button ✓
   - `ExpressDeliveryPopup.tsx` (Quick Delivery) - Using default browser input ✗
   - `QuantityRequestPopup.tsx` (Custom Quote) - Using default browser input ✗

2. Identified proper pattern from ContactFormPopup:
   - Hide default file input with `display: none`
   - Use `<label htmlFor="input-id">` to trigger hidden input
   - Style the label as a button with Jost font, rounded corners, hover effects

### Solution

**ExpressDeliveryPopup.tsx:**
1. Updated HTML structure (lines 408-437):
   - Added `id="urgent-files"` to file input
   - Added `className="urgent-file-input"` (hidden)
   - Created styled `<label htmlFor="urgent-files">` with upload icon
   - Added file hint text
   - Updated file list display

2. Added CSS styling (lines 604-658):
   ```css
   .urgent-file-input { display: none; }
   .urgent-file-label {
     /* Custom button styling with Jost font, dashed border, hover effects */
   }
   .urgent-file-list, .urgent-file-item {
     /* Styled file list display */
   }
   ```

**QuantityRequestPopup.tsx:**
1. Updated HTML structure (lines 302-333):
   - Added `id="quantity-files"` to file input
   - Added `className="kd-file-input-hidden"` (hidden)
   - Created styled `<label htmlFor="quantity-files">` with upload icon
   - Added file hint text
   - Wrapped in `.kd-file-upload-wrapper`

2. Updated CSS styling (lines 550-605):
   ```css
   .kd-file-input-hidden { display: none; }
   .kd-file-upload-button {
     /* Custom button styling matching design system */
   }
   .kd-selected-files, .kd-file-item {
     /* Enhanced file list display */
   }
   ```

### Design System Match
All file upload buttons now feature:
- Jost font family (14px, weight 400/500)
- Dashed border (#DCDCDC)
- Border-radius: 10px
- Background: #f5f5f5 (hover: #e8e8e8)
- Color: #253461 (hover: #469ADC)
- Upload icon (SVG)
- Smooth transitions (0.2s)

### Files Modified
- `/home/kamindu/hercules-headless-uk/src/components/ExpressDeliveryPopup.tsx`
- `/home/kamindu/hercules-headless-uk/src/components/QuantityRequestPopup.tsx`
